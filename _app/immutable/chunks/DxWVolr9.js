import{e as v,i as g,k as U,E as $,m as D,H as O,o as j,q as _,v as q,w as L,x as p,g as k,y as m,U as z,j as B,z as C,A as F,d as H,B as P,S as V}from"./CxsX5Tdw.js";function x(e,a,[t,i]=[0,0]){g&&t===0&&U();var s=e,o=null,n=null,r=z,y=t>0?$:0,f=!1;const S=(u,l=!0)=>{f=!0,b(l,u)},b=(u,l)=>{if(r===(r=u))return;let w=!1;if(g&&i!==-1){if(t===0){const d=D(s);d===O?i=0:d===j?i=1/0:(i=parseInt(d.substring(1)),i!==i&&(i=r?1/0:-1))}const N=i>t;!!r===N&&(s=_(),q(s),L(!1),w=!0,i=-1)}r?(o?p(o):l&&(o=k(()=>l(s))),n&&m(n,()=>{n=null})):(n?p(n):l&&(n=k(()=>l(s,[t+1,i]))),o&&m(o,()=>{o=null})),w&&L(!0)};v(()=>{f=!1,a(S),f||b(null,null)},y),g&&(s=B)}function E(e,a){return e===a||(e==null?void 0:e[V])===a}function ee(e={},a,t,i){return C(()=>{var s,o;return F(()=>{s=o,o=[],H(()=>{e!==t(...o)&&(a(e,...o),s&&E(t(...s),e)&&a(null,...s))})}),()=>{P(()=>{o&&E(t(...o),e)&&a(null,...o)})}}),e}const Y="en",I=["en","ru"],T="PARAGLIDE_LOCALE",M=3456e4,R=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let c,A=!1,G=()=>{let e;for(const a of R)if(a==="cookie"?e=K():a==="baseLocale"?e=Y:a==="globalVariable"&&c!==void 0&&(e=c),e!==void 0){const t=Z(e);return A||(c=t,A=!0,J(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},J=(e,a)=>{const t={reload:!0,...a};let i;try{i=G()}catch{}for(const s of R)if(s==="globalVariable")c=e;else if(s==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const o=window.location.hostname;document.cookie=`${T}=${e}; path=/; max-age=${M}; domain=${o}`}else if(s==="baseLocale")continue;t.reload&&window.location&&e!==i&&window.location.reload()},W=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function h(e){return e?I.includes(e):!1}function Z(e){if(h(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${I.join(", ")}`);return e}function K(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${T}=([^;]+)`)),a=e==null?void 0:e[2];if(h(a))return a}function ae(e){return Q(e)}function Q(e){const a=typeof e=="string"?new URL(e,W()):new URL(e),t=a.pathname.split("/").filter(Boolean);return t.length>0&&h(t[0])&&(a.pathname="/"+t.slice(1).join("/")),a}export{ee as b,ae as d,G as g,x as i,I as l,J as s};
