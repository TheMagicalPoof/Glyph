import{e as $,i as g,k as B,E as C,m as P,H as F,o as H,q as _,v as q,w as U,x as k,g as E,y as R,U as V,j as Y,z as M,A as W,d as G,B as J,S as Z}from"./CxsX5Tdw.js";function re(e,a,[t,o]=[0,0]){g&&t===0&&B();var r=e,n=null,l=null,c=V,N=t>0?C:0,u=!1;const v=(h,i=!0)=>{u=!0,w(i,h)},w=(h,i)=>{if(c===(c=h))return;let p=!1;if(g&&o!==-1){if(t===0){const d=P(r);d===F?o=0:d===H?o=1/0:(o=parseInt(d.substring(1)),o!==o&&(o=c?1/0:-1))}const D=o>t;!!c===D&&(r=_(),q(r),U(!1),p=!0,o=-1)}c?(n?k(n):i&&(n=E(()=>i(r))),l&&R(l,()=>{l=null})):(l?k(l):i&&(l=E(()=>i(r,[t+1,o]))),n&&R(n,()=>{n=null})),p&&U(!0)};$(()=>{u=!1,a(v),u||w(null,null)},N),g&&(r=Y)}function A(e,a){return e===a||(e==null?void 0:e[Z])===a}function le(e={},a,t,o){return M(()=>{var r,n;return W(()=>{r=n,n=[],G(()=>{e!==t(...n)&&(a(e,...n),r&&A(t(...r),e)&&a(null,...r))})}),()=>{J(()=>{n&&A(t(...n),e)&&a(null,...n)})}}),e}const L="en",j=["en","ru"],z="PARAGLIDE_LOCALE",K=3456e4,O=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let f,I=!1,m=()=>{let e;for(const a of O)if(a==="cookie"?e=x():a==="baseLocale"?e=L:a==="globalVariable"&&f!==void 0&&(e=f),e!==void 0){const t=X(e);return I||(f=t,I=!0,Q(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},Q=(e,a)=>{const t={reload:!0,...a};let o;try{o=m()}catch{}for(const r of O)if(r==="globalVariable")f=e;else if(r==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const n=window.location.hostname;document.cookie=`${z}=${e}; path=/; max-age=${K}; domain=${n}`}else if(r==="baseLocale")continue;t.reload&&window.location&&e!==o&&window.location.reload()},b=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function s(e){return e?j.includes(e):!1}function X(e){if(s(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${j.join(", ")}`);return e}function x(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${z}=([^;]+)`)),a=e==null?void 0:e[2];if(s(a))return a}let T,y;function ee(e){const a=typeof e=="string"?e:e.href;if(T===a)return y;let t;return t=te(e),T=a,y=t,t}function te(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const o=t[0];if(s(o))return o}return L}function S(e,a){return ae(e,a)}function ae(e,a){const t=typeof e=="string"?new URL(e,b()):new URL(e),o=(a==null?void 0:a.locale)??m();if(ee(t)===o)return t;const n=t.pathname.split("/").filter(Boolean);return n.length>0&&s(n[0])&&n.shift(),o===L?t.pathname="/"+n.join("/"):t.pathname="/"+o+"/"+n.join("/"),t}function ie(e){return ne(e)}function ne(e){const a=typeof e=="string"?new URL(e,b()):new URL(e),t=a.pathname.split("/").filter(Boolean);return t.length>0&&s(t[0])&&(a.pathname="/"+t.slice(1).join("/")),a}function ce(e,a){const t=m(),o=(a==null?void 0:a.locale)??t,r=new URL(e,b()),n=S(r,{locale:o});return e.startsWith("/")&&r.origin===n.origin?o!==t&&S(r,{locale:t}).origin!==n.origin?n.href:n.pathname+n.search+n.hash:n.href}export{ce as a,le as b,ie as d,m as g,re as i,j as l};
